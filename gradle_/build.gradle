
//using Shlomi and Alexey's github

apply plugin: 'java'
apply plugin: 'application'
apply plugin: 'eclipse'



mainClassName = "matalaMunche.Main"



repositories {
	mavenCentral()
}
//libraries
dependencies{
	compile files('libs/hamcrest-core-1.3.jar', 'libs/JavaAPIforKml-2.2.0.jar','libs/javacsv-2.0.jar', 'libs/jaxb-impl-2.2.6.jar','libs/mysql-connector-java-5.1.45-bin.jar')
	testCompile 'junit:junit:4.12'
}


jar {
    manifest {
        attributes "Main-Class": mainClassName
    }
    from {
        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
    }
}


task customFatJar(type: Jar) {
    manifest {
        attributes 'Main-Class': mainClassName
    }
    baseName = project.name+'-all'	
    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
    with jar
}



task wrapper(type: Wrapper) {
    gradleVersion = '4.4.1'
}


build.dependsOn(customFatJar)